---
title: "Problem"
description: "Challenges in current DeFi money markets and margin trading."
---

# Problem

Most avenues for leverage today, such as perpetual exchanges and lending protocols, are permissioned— meaning that teams or governance bodies must manually whitelist assets before users can trade them with leverage. This creates a significant bottleneck, particularly because crypto traders have consistently demonstrated strong interest in trading long-tail assets.

<Info>
More than ≈ 95% of the volume on [Raydium](https://raydium.io/liquidity-pools/?tab=all&sort_by=volume) is on assets below $1B market capitalization.

**Reference**: [See this analysis notebook](https://colab.research.google.com/drive/1_EcZQxDqNA_el-r7S9fC-3lI6AYTOp2F)
</Info>

![78.4% of volume generated by FDV under $100M, and 94.9% by FDV under $1B.](https://2535276810-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FNZn9gOHBT8UgOfu2lGuO%2Fuploads%2Fr7IAV9bV3bmnfcqTyJfV%2Fstats.png?alt=media&token=7e030ac4-1ec4-47a2-b23f-944a8d0802af)

Historically, the reason for this was that borrow/lends and perp protocols were decoupled from the spot liquidity for the token. This meant that these protocols needed to manually observe the spot markets and then manually enter risk parameters from that liquidity.

## Traditional Model Overview

![Decoupled liquidity in current money markets](https://2535276810-files.gitbook.io/~/files/v0/b/gitbook-x-prod.appspot.com/o/spaces%2FNZn9gOHBT8UgOfu2lGuO%2Fuploads%2FYzTDSRqLQBCeAsWaENN8%2Fnormal-lending.png?alt=media&token=197ee201-863f-48bf-8df1-9c63478267f4)

In traditional DeFi infrastructure, leverage and lending markets are decoupled from spot liquidity pools:

- **Spot Liquidity Pools** (AMMs like Raydium / Uniswap):
  - Provide swap liquidity for spot traders.
  - Typically have substantial "idle liquidity"—capital that's rarely utilized efficiently.
  - LPs mainly earn swap fees, often insufficient during volatility and impermanent loss (IL).
- **Money Markets** (Protocols like Kamino, Solend (Save) / Compound, Aave):
  - Enable lending and borrowing assets.
  - Require **external oracles** for price feeds, introducing dependency and manipulation risk.
  - Governed by external governance or risk committees to manually set collateral and risk parameters—slowing growth, adoption, and flexibility.
  - Depend on **external liquidators**, adding further systemic dependency and risk.

The traditional separation of money markets from spot liquidity pools introduces multiple vulnerabilities and inefficiencies, as illustrated in the following diagram:

As depicted:

- **Liquidity Fragmentation:** Liquidity from AMMs is not directly usable by lending markets, resulting in idle, under-utilized capital.
- **Oracle Dependency:** Money markets rely heavily on external oracles for collateral valuations, making them vulnerable to price manipulation, latency issues, and oracle failures.
- **Liquidation Inefficiency:** External liquidation mechanisms can drain liquidity from spot markets during volatile periods, exacerbating slippage and negatively affecting LP returns.
- **Centralized Governance Bottlenecks:** Manual risk parameter configuration (collateral listing, loan-to-value ratios) introduces delays, restricting rapid adoption for long-tail or newly emerging assets.

## The Need for a New Approach

To unlock the potential of permissionless leverage, isolated margin, and lending for long-tail assets, DeFi needs a unified and decentralized solution that:

- Integrates **spot liquidity pools** directly with **money markets**.
- Eliminates external oracle dependencies.
- Internalizes liquidation processes, protecting liquidity pools.
- Removes governance bottlenecks through autonomous risk management.

This problem statement lays the foundation for Omnipair's Generalized Automated Market Maker (GAMM).

